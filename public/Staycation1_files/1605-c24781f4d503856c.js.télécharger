"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1605],{31605:function(e,t,a){a.d(t,{C1:function(){return trackTryPayBooking},D$:function(){return trackReviewCompleted},DB:function(){return trackBookingDetails},EK:function(){return trackBookingPurchase},Es:function(){return trackBookingAddExtra},HB:function(){return trackLastMinuteModalConfirmed},Iq:function(){return trackIncludedExperienceAvailabilityConfirmed},Jd:function(){return trackExtraExperienceAvailabilityConfirmed},KC:function(){return trackSharedBooking},Ox:function(){return trackCartExpiredRetryClick},VW:function(){return trackAddBookingToCart},XA:function(){return trackCartUnexpectedError},XQ:function(){return trackReviewScore},XX:function(){return trackCartUnexpectedErrorRetryClick},YT:function(){return trackClickAddPromoCode},an:function(){return trackReviewPlaces},f8:function(){return trackBookingCheckout},gU:function(){return trackCartMissingStockRetryClick},hX:function(){return trackBookingPaymentError},ln:function(){return trackReviewTips},m6:function(){return trackBookingChangeRoomClick},p2:function(){return trackCartMissingStock},q5:function(){return trackBookingSummaryModalShow},wP:function(){return trackCartExpired},yK:function(){return trackBookingChangeMomentSlot},yh:function(){return trackShareBookingOpenModal},zn:function(){return trackSelectPackageDate}});var n=a(52153),r=a.n(n),i=a(92300),o=a(74201),c=a(26806),u=a(61690),m=a(90982),s=a(57100);let trackAddBookingToCart=e=>{let{code:t,pkg:a,psp:n,fees:r,totalAmount:u,currency:d,checkin:l,checkout:p,basePackageDiscountPrice:_,basePackagePrice:k,pax:g,room:C,creditAmount:y,availableExtrasCategoryIds:h,availableUpgradesCategories:M}=e,v=(0,i.Z)(new Date(p),new Date(l)),f=0===v?_:_/v,E=(0,c.vJ)({basePackagePrice:k,basePackageDiscountPrice:_,creditAmount:y}),b=(0,c.SY)({totalAmount:u,fees:r,creditAmount:y});(0,s.j)({amplitude:{name:"Add to Cart",params:{slug:a.slug,amount:u,currency:d,fees:r,psp:n,date:(0,o.Z)(new Date(l),"yyyy-MM-dd"),nightCount:(0,i.Z)(new Date(p),new Date(l)),code:t,availableExtrasCategoryIds:h,availableUpgradesCategories:M}},branch:{eventName:"ADD_TO_CART",eventAndCustomData:{currency:d,transaction_id:t},contentItems:[{$canonical_identifier:a.slug,$sku:a.slug,$price:u,$product_name:(0,m.jI)({pkgName:a.name,stars:a.stars,aliasForUser:a.aliasForUser}),$quantity:1,$content_schema:"COMMERCE_TRAVEL_HOTEL",$custom_fields:{fb_content_type:"hotel"}}]},snapchat:{name:"ADD_CART",params:{currency:d,price:u,item_ids:[a.slug]}},gtm:{name:"add_to_cart",properties:{ecommerce:{discount:E,value:b,value_ht:(0,c.gu)(b),fees:r,currency:d,items:[{item_name:(0,m.jI)({pkgName:a.name,stars:a.stars,aliasForUser:a.aliasForUser}),item_id:a.slug,item_variant_title:C.name,item_variant_id:C.id.toString(),start_date:(0,o.Z)(new Date(l),"yyyy-MM-dd"),end_date:(0,o.Z)(new Date(p),"yyyy-MM-dd"),night_quantity:(0,i.Z)(new Date(p),new Date(l)),price:f,price_exc_tax:(0,c.gu)(f),item_category:"H\xf4tel",item_category2:"".concat(a.stars," \xe9toiles"),adults_number:g.adults,children_number:g.children,baby_number:g.babies,discount:k-_,quantity:1}]}}}})},trackBookingAddExtra=e=>{(0,s.j)({amplitude:{name:"Booking Add Extra",params:{...e,source:"pimp"}},branch:{eventName:"CUSTOM_CUSTOMIZE_PRODUCT"},snapchat:{name:"CUSTOM_CUSTOMIZE_PRODUCT"}})},trackLastMinuteModalConfirmed=()=>(0,s.j)({amplitude:{name:"Click Last Minute Modale Booking Day Experience"}}),trackIncludedExperienceAvailabilityConfirmed=()=>(0,s.j)({amplitude:{name:"Click Modale unavailable experience"}}),trackExtraExperienceAvailabilityConfirmed=()=>(0,s.j)({amplitude:{name:"Click Modale unavailable extra"}}),trackCartExpired=()=>(0,s.j)({amplitude:{name:"Cart Expired"}}),trackCartExpiredRetryClick=()=>(0,s.j)({amplitude:{name:"Cart Expired Retry Click"}}),trackCartMissingStock=()=>(0,s.j)({amplitude:{name:"Cart Missing Stock"}}),trackCartMissingStockRetryClick=()=>(0,s.j)({amplitude:{name:"Cart Missing Stock Retry Click"}}),trackCartUnexpectedError=()=>(0,s.j)({amplitude:{name:"Cart UnexpectedError"}}),trackCartUnexpectedErrorRetryClick=()=>(0,s.j)({amplitude:{name:"Cart UnexpectedError Retry Click"}}),trackBookingCheckout=e=>{let{pkg:t,psp:a,fees:n,totalAmount:r,currency:u,code:d,checkout:l,checkin:p,pax:_,giftCard:k,basePackagePrice:g,basePackageDiscountPrice:C,room:y,creditAmount:h,experiences:M,upgradeAmount:v}=e,f=M.reduce((e,t)=>(!t.included&&t.quantity>0&&t.price&&(e.extras_count+=t.quantity,e.extras_amount+=t.price*t.quantity,e.extras_category_ids.push(t.category.id)),e),{extras_count:0,extras_amount:0,extras_category_ids:[]}),E=v?{has_upgraded:!0,upgrade_amount:v,upgrade_category:y.category}:{has_upgraded:!1},b=(0,i.Z)(new Date(l),new Date(p)),S=0===b?C:C/b,x=(0,c.vJ)({basePackagePrice:g,basePackageDiscountPrice:C,creditAmount:h,couponAmount:null==k?void 0:k.couponAmount}),D=(0,c.SY)({totalAmount:r,fees:n,creditAmount:h,couponAmount:null==k?void 0:k.couponAmount});(0,s.j)({amplitude:{name:"Checkout",params:{slug:t.slug,amount:r,fees:n,currency:u,psp:a,date:(0,o.Z)(new Date(p),"yyyy-MM-dd"),nightCount:(0,i.Z)(new Date(l),new Date(p)),code:d,...f,...E}},branch:{eventName:"INITIATE_PURCHASE"},snapchat:{name:"START_CHECKOUT"},gtm:{name:"begin_checkout",properties:{ecommerce:{coupon:null==k?void 0:k.couponCode,discount:x,value:D,value_ht:(0,c.gu)(D),currency:u,fees:n,items:[{item_name:(0,m.jI)({pkgName:t.name,stars:t.stars,aliasForUser:t.aliasForUser}),item_id:t.slug,item_variant_title:y.name,item_variant_id:y.id.toString(),start_date:(0,o.Z)(new Date(p),"yyyy-MM-dd"),end_date:(0,o.Z)(new Date(l),"yyyy-MM-dd"),night_quantity:b,price:S,price_exc_tax:(0,c.gu)(S),item_category:"H\xf4tel",item_category2:"".concat(t.stars," \xe9toiles"),adults_number:_.adults,children_number:_.children,baby_number:_.babies,discount:g-C,quantity:1}]}}}})},trackBookingPurchase=e=>{let{pkg:t,psp:a,fees:n,totalAmount:d,chargedAmount:l,currency:p,code:_,checkin:k,email:g,checkout:C,pax:y,isBooker:h,giftCard:M,basePackageDiscountPrice:v,basePackagePrice:f,room:E,creditAmount:b,extrasCategoryIds:S}=e,x=(0,u.x3)(k);h||(0,s.j)({branch:{eventName:"FIRST PURCHASE",eventAndCustomData:{currency:p,transaction_id:_},contentItems:[{$canonical_identifier:t.slug,$sku:t.slug,$price:l,$product_name:t.name,$quantity:1,$content_schema:"COMMERCE_TRAVEL_HOTEL",$custom_fields:{fb_content_type:"hotel"}}]}}),x&&(0,s.j)({gtm:{name:'MTV | Purchase "Last Minute"',properties:{transaction_id:_,value:(0,c.Bm)(d,n),email:r()(g.trim().toLocaleLowerCase()).toString()}}});let D=(0,i.Z)(new Date(C),new Date(k)),w=0===D?v:v/D,R=(0,c.vJ)({basePackagePrice:f,basePackageDiscountPrice:v,creditAmount:b,couponAmount:null==M?void 0:M.couponAmount}),A=(0,c.SY)({totalAmount:d,fees:n,creditAmount:b,couponAmount:null==M?void 0:M.couponAmount});(0,s.j)({amplitude:{name:"Purchase",params:{slug:t.slug,amount:d,fees:n,currency:p,psp:a,date:(0,o.Z)(new Date(k),"yyyy-MM-dd"),nightCount:(0,i.Z)(new Date(C),new Date(k)),code:_,extrasCategoryIds:S}},branch:{eventName:"PURCHASE",eventAndCustomData:{currency:p,transaction_id:_},contentItems:[{$canonical_identifier:t.slug,$sku:t.slug,$price:l,$product_name:(0,m.jI)({pkgName:t.name,stars:t.stars,aliasForUser:t.aliasForUser}),$quantity:1,$content_schema:"COMMERCE_TRAVEL_HOTEL",$custom_fields:{fb_content_type:"hotel"}}]},snapchat:{name:"PURCHASE",params:{currency:p,price:l,item_ids:[t.slug]}},gtm:{name:"purchase",properties:{ecommerce:{transaction_id:_,coupon:null==M?void 0:M.couponCode,discount:R,payment_type:"Credit Card",value:A,value_ht:(0,c.gu)(A),currency:p,fees:n,new_customer:!h,purchase_type:x?"Last Minute":"Classic",items:[{item_name:(0,m.jI)({pkgName:t.name,stars:t.stars,aliasForUser:t.aliasForUser}),item_id:t.slug,item_variant_title:E.name,item_variant_id:E.id.toString(),start_date:(0,o.Z)(new Date(k),"yyyy-MM-dd"),end_date:(0,o.Z)(new Date(C),"yyyy-MM-dd"),night_quantity:D,price:w,price_exc_tax:(0,c.gu)(w),item_category:"H\xf4tel",item_category2:"".concat(t.stars," \xe9toiles"),adults_number:y.adults,children_number:y.children,baby_number:y.babies,discount:f-v,quantity:1}]}}}})},trackBookingPaymentError=e=>{(0,s.j)({amplitude:{name:"Payment Error",params:e}})},trackReviewScore=e=>{let{booking:t}=e;(0,s.j)({amplitude:{name:"Review Score",params:{booking:t}}})},trackReviewPlaces=e=>{(0,s.j)({amplitude:{name:"Review Places",params:e}})},trackReviewTips=e=>{(0,s.j)({amplitude:{name:"Review Tips",params:e}})},trackReviewCompleted=e=>{(0,s.j)({amplitude:{name:"Review Completed",params:e}})},trackBookingDetails=e=>{let{status:t}=e;(0,s.j)({amplitude:{name:"Check booking details",params:{type:t}}})},trackBookingSummaryModalShow=()=>{(0,s.j)({amplitude:{name:"Booking recap"}})},trackBookingChangeRoomClick=e=>{(0,s.j)({amplitude:{name:"Booking Change Room",params:e},branch:{eventName:"CUSTOM_CUSTOMIZE_PRODUCT"},snapchat:{name:"CUSTOM_CUSTOMIZE_PRODUCT"}})},trackBookingChangeMomentSlot=e=>{(0,s.j)({amplitude:{name:"Booking change moment slot",params:e},branch:{eventName:"CUSTOM_CUSTOMIZE_PRODUCT"},snapchat:{name:"CUSTOM_CUSTOMIZE_PRODUCT"}})},trackSelectPackageDate=e=>{(0,s.j)({amplitude:{name:"Select Package Date",params:e}})},trackClickAddPromoCode=e=>{(0,s.j)({amplitude:{name:"Click Add Promo Code",params:e}})},trackShareBookingOpenModal=e=>(0,s.j)({amplitude:{name:"Click share booking",params:e}}),trackSharedBooking=e=>(0,s.j)({amplitude:{name:"Booking shared",params:e}}),trackTryPayBooking=e=>{let{pkg:t,totalAmount:a,currency:n,checkin:r,checkout:u,basePackageDiscountPrice:d,basePackagePrice:l,pax:p,room:_,giftCard:k,fees:g,creditAmount:C}=e,y=(0,i.Z)(new Date(u),new Date(r)),h=0===y?d:d/y,M=(0,c.vJ)({basePackagePrice:l,basePackageDiscountPrice:d,creditAmount:C,couponAmount:null==k?void 0:k.couponAmount}),v=(0,c.SY)({totalAmount:a,fees:g,creditAmount:C,couponAmount:null==k?void 0:k.couponAmount});(0,s.j)({gtm:{name:"add_payment_info",properties:{ecommerce:{coupon:null==k?void 0:k.couponCode,discount:M,value:v,value_ht:(0,c.gu)(v),fees:g,currency:n,items:[{item_name:(0,m.jI)({pkgName:t.name,stars:t.stars,aliasForUser:t.aliasForUser}),item_id:t.slug,item_variant_title:_.name,item_variant_id:_.id.toString(),start_date:(0,o.Z)(new Date(r),"yyyy-MM-dd"),end_date:(0,o.Z)(new Date(u),"yyyy-MM-dd"),night_quantity:y,price:h,price_exc_tax:(0,c.gu)(h),item_category:"H\xf4tel",item_category2:"".concat(t.stars," \xe9toiles"),adults_number:p.adults,children_number:p.children,baby_number:p.babies,discount:l-d,quantity:1}]}}}})}}}]);