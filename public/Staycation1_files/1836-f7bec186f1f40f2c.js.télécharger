(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1836],{78086:function(e,t,a){"use strict";a.d(t,{W:function(){return InformationButton}});var n=a(85893),i=a(94184),r=a.n(i),o=a(28481),l=a(37432),s=a(33475),c=a.n(s);let InformationButton=e=>{let{icon:t,label:a,description:i,onClick:s,withTopBorderMobile:u=!1,descriptionRef:d,variant:m="ghost",className:g}=e;return(0,n.jsxs)("button",{onClick:s,className:r()(c().informationButton,{[c().withTopBorder]:u,[c().solidButton]:"solid"===m},g),type:"button",children:[(0,n.jsx)(o.J,{...t,size:"m"}),(0,n.jsxs)("div",{className:c().informationContainer,children:[(0,n.jsx)("div",{className:r()(c().buttonLabel,{[c().solidLabel]:"solid"===m}),children:(0,n.jsx)(l.A,{as:"label",fontSize:"large",fontWeight:"solid"===m?"regular":"medium",children:a})}),(0,n.jsx)("div",{className:c().buttonDescription,ref:d,children:(0,n.jsx)(l.A,{fontSize:"large",fontWeight:"regular",color:"secondary",children:i})})]}),(0,n.jsx)(o.J,{variant:"line",name:"caret-right",size:"s"})]})}},51082:function(e,t,a){"use strict";a.d(t,{P:function(){return PackageCardSkeleton}});var n=a(85893),i=a(62120),r=a(13008),o=a(82643),l=a.n(o);let PackageCardSkeleton=e=>{let{size:t="medium",dayPackage:a=!1}=e;return(0,n.jsxs)("div",{children:[(0,n.jsx)(r.c,{size:t,dayPackage:a,children:(0,n.jsx)(i.MD,{})}),(0,n.jsxs)("div",{className:l().content,children:[(0,n.jsxs)("div",{className:l().row,children:[(0,n.jsx)(i.N2,{width:"15%",size:"sm"}),(0,n.jsx)(i.N2,{width:"15%",size:"sm"})]}),(0,n.jsx)(i.N2,{width:"65%",size:"md"}),(0,n.jsx)(i.N2,{width:"20%",size:"sm"})]})]})}},24614:function(e,t,a){"use strict";a.d(t,{h:function(){return usePackageWishlistStatus}});var n=a(30202),i=a(67294),r=a(30795),o=a(77015),l=a(87631),s=a(43436),c=a(76443);let u="/gateway/wishlist";var d=a(99727);let usePackageWishlistStatus=()=>{let{token:e}=(0,r.a)(),{data:t,error:a,isInitialLoading:m,refetch:g}=function(){let{token:e}=(0,r.a)();return(0,c.fh)(e?[u,e]:void 0,{staleTime:5,keepPreviousData:!0})}(),v=(0,n.NL)(),f=(0,s._)(u),[h,p]=(0,i.useState)(!1),k=(0,i.useCallback)(e=>!!t&&t.packages.some(t=>t.packageId===e),[t]),_=(0,i.useCallback)(async a=>{if(!t||!e)return;p(!0);let n=k(a);try{n?(f({...t,packages:t.packages.filter(e=>e.packageId!==a)}),await (0,o.qS)({path:"/wishlist/:packageId",params:{packageId:a.toString()},token:e})):(f({...t,packages:[...t.packages,{packageId:a}]}),await (0,o.GS)({path:"/wishlist/:packageId",params:{packageId:a.toString()},token:e})),v.invalidateQueries({queryKey:[d.E]}),await g()}catch(e){l.T.captureException(e)}finally{p(!1)}},[f,g,e,t,k,v]);return{data:t,isInitialLoading:m,error:a,isPackageLiked:k,togglePackageWishlistStatus:_,isMutating:h}}},34158:function(e,t,a){"use strict";a.d(t,{y:function(){return useSales}});var n=a(78058),i=a.n(n),r=a(16310);let o=(0,r.Ry)({id:(0,r.Rx)().required().positive().integer(),countryId:(0,r.Rx)().required().positive().integer(),startDate:(0,r.Z_)().required(),endDate:(0,r.Z_)().required(),bookableDays:(0,r.IX)((0,r.Z_)().required()).required(),open:(0,r.O7)().required()}),l=(0,r.IX)(o);var s=a(76443);function useSales(){return(0,s.fh)(["/sales"],{staleTime:4*i().MINUTES_IN_HOUR,schema:l})}},99727:function(e,t,a){"use strict";a.d(t,{E:function(){return r},e:function(){return useWishlistPackageCards}});var n=a(30795),i=a(76443);let r="/gateway/wishlist/package-cards";function useWishlistPackageCards(){let{token:e,user:t}=(0,n.a)();return(0,i.fh)(e&&t?[r,{queryParams:{countrySlug:t.countrySlug}},e]:void 0,{staleTime:5})}},14025:function(e,t,a){"use strict";a.d(t,{f:function(){return PriceExplanationButton}});var n=a(85893),i=a(25362),r=a(7419),o=a(97537),l=a(78226),s=a(61009),c=a(78086),u=a(28481),d=a(37432),m=a(64542),g=a.n(m);let InformationButtonForMobile=e=>{let{icon:t,label:a,onClick:i}=e;return(0,n.jsxs)("button",{onClick:i,className:g().informationButton,type:"button",children:[(0,n.jsx)(d.A,{fontSize:"large",fontWeight:"regular",as:"label",children:a}),(0,n.jsx)(u.J,{...t,size:"s"})]})};var v=a(11960),f=a(57214),h=a(40441),p=a.n(h);let ModalPriceExplanation=()=>{let e=(0,i.dd)(l.lx),{t}=(0,o.$)();return(0,n.jsxs)(f.u_,{mobileBehavior:"drawer",size:"medium",id:l.lx,children:[(0,n.jsx)(f.xB,{className:p().header,children:(0,n.jsx)(v.D,{title:t("common:discountExplain.titleModal"),withDivider:!0,children:(0,n.jsx)(f.ol,{"aria-label":t("common:button.close"),onClick:e.hide})})}),(0,n.jsx)(f.fe,{className:p().body,children:(0,n.jsx)(d.A,{fontSize:"large",fontWeight:"regular",children:t("common:discountExplain.descriptionModal")})})]})},PriceExplanationButton=()=>{let e=(0,i.dd)(l.lx),t=(0,r.F)(),{t:a}=(0,o.$)(),onClick=()=>{(0,s.j)({amplitude:{name:"Open price details"}}),e.show()};return(0,n.jsxs)(n.Fragment,{children:[t?(0,n.jsx)(c.W,{icon:{name:"tag",variant:"line"},label:a("common:discountExplain.titleButton"),onClick:onClick,variant:"solid"}):(0,n.jsx)(InformationButtonForMobile,{icon:{name:"tag",variant:"line"},label:a("common:discountExplain.titleButtonWebMobile"),onClick:onClick}),(0,n.jsx)(ModalPriceExplanation,{})]})}},91667:function(e,t,a){"use strict";a.d(t,{L:function(){return TagOnlyLeft}});var n=a(85893),i=a(97537),r=a(31475);let TagOnlyLeft=e=>{let{size:t,stock:a}=e,{t:o}=(0,i.$)();return(0,n.jsx)(r.V,{color:"black",ariaLabel:o("common:tags.onlyLeft",{count:a}),size:t,children:o("common:tags.onlyLeft",{count:a})})}},26844:function(e,t,a){"use strict";a.d(t,{d:function(){return useHandleWishlistClick}});var n=a(67294),i=a(30795),r=a(46204),o=a(24614),l=a(32585),s=a(68849),c=a(61379);let useHandleWishlistClick=()=>{let{user:e}=(0,i.a)(),{data:t}=(0,r.F)(),{isPackageLiked:a,togglePackageWishlistStatus:u}=(0,o.h)(),{packageQueryParams:d}=(0,c._s)();return(0,n.useCallback)(n=>{if(!(null==e?void 0:e.id))return;let{id:i,slug:r}=n,o=(0,l.K1)({id:n.countryId},null!=t?t:[]),c=a(i);if(u(i),c)(0,s.x)({btnType:"card",slug:r});else{var m,g;(0,s.i)({pkg:n,btnType:"card",price:null===(m=n.availability)||void 0===m?void 0:m.price,discountPrice:null===(g=n.availability)||void 0===g?void 0:g.discountPrice,currency:null==o?void 0:o.currency,packageQueryParams:d})}},[a,u,null==e?void 0:e.id,d,t])}},64670:function(e,t,a){"use strict";a.d(t,{i:function(){return useRenderPackageCardWrapper}});var n=a(85893),i=a(67294),r=a(95482),o=a(91667),l=a(97537),s=a(31475);let TagUnavailable=e=>{let{size:t}=e,{t:a}=(0,l.$)();return(0,n.jsx)(s.V,{color:"black",ariaLabel:a("common:tags.unavailable"),size:t,children:a("common:tags.unavailable")})};var c=a(48347),u=a(30795),d=a(46204),m=a(24614),g=a(34158),v=a(7419),f=a(88318),h=a(32585),p=a(20214),k=a(90982),_=a(56254),x=a(63366),b=a(28055),y=a(61379),C=a(76255),P=a(26844);let useMapDayPackageSize=()=>{let e=(0,v.C)("xs"),t=(0,v.C)("xxl");return(0,i.useCallback)(()=>t?"large":e?"medium":"small",[t,e])},Wrapper=e=>{let{pkgId:t,children:a}=e,r=(0,c.m)(),o=(0,i.useCallback)(()=>{null==r||r.setHoveredPackageId(t)},[t,r]),l=(0,i.useCallback)(()=>{null==r||r.setHoveredPackageId(void 0)},[r]);return r?(0,n.jsx)("div",{onMouseEnter:o,onMouseLeave:l,children:a}):(0,n.jsx)(n.Fragment,{children:a})};function useRenderPackageCardWrapper(e){let{packages:t,cityToCompare:a,coverPackageRef:s,queryParams:c,trackSliceName:j,trackPage:I,trackPageSlug:S,trackSliceSlug:w,showMultiplePictures:B,nightCount:W,adults:L,disableRedirection:N,onClick:T,trackTab:D,forceSignup:M,mapVersion:z=!1,handlePackageHover:E,hideUnavailableTag:H,hideUnavailableOverlay:R,displayFullPackageName:q}=e,{user:A}=(0,u.a)(),{t:F}=(0,l.$)(),{packageQueryParams:O}=(0,y._s)(),$=!!A,U=(0,i.useMemo)(()=>(0,n.jsx)(TagUnavailable,{}),[]),{isPackageLiked:Z}=(0,m.h)(),Q=(0,i.useCallback)(e=>{var n;(0,b.Dm)({params:{scoring:null===(n=e.reviewSummary)||void 0===n?void 0:n.averageScore,listRank:t.findIndex(t=>t.id===e.id),slug:e.slug,distance:(0,p.JL)(a.coords,e.location.coords),page:I,pageSlug:S,slice:j,sliceSlug:w,tab:D,dayPackage:e.dayPackage},pkg:e,packageQueryParams:O}),T&&T()},[t,a.coords,I,S,j,w,D,T,O]),{data:J}=(0,d.F)(),K=(0,P.d)(),{data:V}=(0,g.y)(),G=useMapDayPackageSize(),{shortCodeParam:X}=(0,C.Z)(),Y=(0,v.C)("xs");return(0,i.useCallback)(e=>{var t,i,l,u;let d=(0,h.K1)({id:e.countryId},null!=J?J:[]),m=(0,k._e)(e),g=(0,k.dx)(e),v=1===O.dates.length,p=(0,n.jsx)(o.L,{stock:(null===(t=e.availability)||void 0===t?void 0:t.stock)||0}),b=m?null:U,y=H?null:g?p:b,C=m?void 0:F("common:tags.unavailable"),P=g&&v?F("common:tags.onlyLeft",{count:null!==(l=null===(i=e.availability)||void 0===i?void 0:i.stock)&&void 0!==l?l:0}):C,j=H?void 0:P,I=e.dayPackage?G():"large",S=Y?"medium":"small",T=e.dayPackage?S:"large";return(0,n.jsx)(Wrapper,{handlePackageHover:E,pkgId:e.id,children:(0,n.jsx)(r.p,{coverPackageRef:s,pkg:e,size:z?I:T,cityToCompare:a,onClick:Q,isAuthenticated:$,tag:y,daytimeTagLabel:j,queryParams:M?{...c,[_.jC]:"true",[_.Ju]:F("auth:register.title.titlePackage")}:c,isSalesOpen:(0,x.X8)(null!=V?V:[],e.countryId),currency:null!==(u=null==d?void 0:d.currency)&&void 0!==u?u:f.config.defaultCurrency,isLiked:$?Z(e.id):void 0,onHeartClick:K,showMultiplePictures:B,sliceSlug:"latest"===w?w:void 0,nightCount:W,adults:L,disableRedirection:N,hideUnavailableOverlay:R,displayFullPackageName:q,isRegion:!!X},e.id)})},[J,O.dates.length,U,F,G,E,s,z,a,Q,$,M,c,V,Z,K,B,w,W,L,N,H,R,q,Y,X])}},76255:function(e,t,a){"use strict";a.d(t,{Z:function(){return useShortCodeQueryParam}});var n=a(24003),i=a(56254);function useShortCodeQueryParam(){let[e,t]=(0,n.useQueryParam)(i.V6,n.StringParam,{removeDefaultsFromUrl:!0});return{shortCodeParam:e,setShortCodeParam:t}}},48347:function(e,t,a){"use strict";a.d(t,{N:function(){return HoverPackageProvider},m:function(){return useHoverPackage}});var n=a(85893),i=a(67294);let r=(0,i.createContext)(void 0),HoverPackageProvider=e=>{let{children:t}=e,[a,o]=(0,i.useState)(void 0),l=(0,i.useCallback)(e=>{o(e)},[]);return(0,n.jsx)(r.Provider,{value:{hoveredPackageId:a,setHoveredPackageId:l},children:t})},useHoverPackage=()=>{let e=(0,i.useContext)(r);return e}},68849:function(e,t,a){"use strict";a.d(t,{i:function(){return trackAddToWishlist},x:function(){return trackRemoveFromWishlist}});var n=a(77349),i=a(74201),r=a(26806),o=a(90982),l=a(57100);let trackRemoveFromWishlist=e=>(0,l.j)({amplitude:{name:"Add to Wishlist",params:{...e,action:"remove"}}}),trackAddToWishlist=e=>{var t;let{pkg:a,btnType:s,packageQueryParams:c,currency:u,discountPrice:d,price:m}=e,{slug:g,name:v}=a,{adults:f,children:h,babies:p,nightCount:k=1,dates:_}=c,x=(0===k?d:(d||0)/k)||0,b=_[0],y=b?(0,i.Z)((0,n.Z)(new Date(b),k||1),"yyyy-MM-dd"):void 0;(0,l.j)({amplitude:{name:"Add to Wishlist",params:{currency:u,slug:g,name:v,action:"add",btnType:s}},branch:{eventName:"ADD_TO_WISHLIST",eventAndCustomData:{currency:u},contentItems:[{$canonical_identifier:g,$sku:g,$price:d,$product_name:v,$content_schema:"COMMERCE_TRAVEL_HOTEL",$custom_fields:{fb_content_type:"hotel"}}]},snapchat:{name:"ADD_TO_WISHLIST",params:{currency:u,price:d,item_ids:[g]}},gtm:{name:"add_to_wishlist",properties:{ecommerce:{items:[{item_name:(0,o.jI)({pkgName:a.name,stars:null!==(t=a.stars)&&void 0!==t?t:0,aliasForUser:a.aliasForUser}),item_id:a.slug,start_date:b,end_date:y,night_quantity:k,price:x,price_exc_tax:(0,r.gu)(x),item_category:"H\xf4tel",item_category2:"".concat(a.stars," \xe9toiles"),adults_number:f,children_number:h,baby_number:p,discount:(m||0)-(d||0),quantity:1}]}}}})}},33475:function(e){e.exports={informationButton:"InformationButton_informationButton__yZDQ6",withTopBorder:"InformationButton_withTopBorder__h04xw",informationContainer:"InformationButton_informationContainer__DGu6Q",buttonLabel:"InformationButton_buttonLabel__zttNU",buttonDescription:"InformationButton_buttonDescription__ew2nN",solidButton:"InformationButton_solidButton__5fAf0",solidLabel:"InformationButton_solidLabel__3SKrc"}},64542:function(e){e.exports={informationButton:"InformationButtonForMobile_informationButton__cj44v"}},40441:function(e){e.exports={header:"ModalPriceExplanation_header__h89zb",body:"ModalPriceExplanation_body__2ilMW"}},82643:function(e){e.exports={content:"PackageCardSkeleton_content__jhlRG",row:"PackageCardSkeleton_row__Dqz3z"}}}]);