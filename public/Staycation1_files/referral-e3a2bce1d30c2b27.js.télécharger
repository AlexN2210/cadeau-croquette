(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5593],{52920:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/referral",function(){return t(44485)}])},24329:function(e,r,t){"use strict";t.d(r,{q:function(){return Avatar}});var a=t(85893),i=t(81279),l=t(97733),s=t(22321),n=t(78954),o=t.n(n);let Avatar=e=>{let{path:r,size:t="m"}=e;return r?(0,a.jsx)("div",{className:o().avatar,style:{width:s.Y[t],height:s.Y[t]},children:(0,a.jsx)(i.E,{img:r,alt:"avatar",withinSubDirectory:!0})}):(0,a.jsx)(l.KT,{size:t})}},22852:function(e,r,t){"use strict";t.d(r,{d:function(){return Emoji}});var a=t(85893),i=t(94184),l=t.n(i),s=t(67341),n=t(81279),o=t(18030),d=t.n(o);let Emoji=e=>{let{pictureId:r,size:t,className:i}=e;return(0,a.jsx)("div",{className:l()(d().emojiContainer,i),style:(0,s.$K)(t)?{width:t,height:t}:void 0,children:(0,a.jsx)(n.E,{img:r,alt:"emoji",withinSubDirectory:!0})})}},70349:function(e,r,t){"use strict";t.d(r,{i:function(){return useFindCountry}});var a=t(67294),i=t(46204),l=t(32585);function useFindCountry(e){let{data:r,isLoading:t}=(0,i.F)(),s=(0,a.useMemo)(()=>(0,l.K1)(e,null!=r?r:[]),[r,e]);return{country:s,isLoading:t}}},54242:function(e,r,t){"use strict";t.d(r,{Z:function(){return MainLayout}});var a=t(85893),i=t(94184),l=t.n(i),s=t(7419),n=t(37432),o=t(46055),d=t(79602),c=t(84055),u=t(10009),m=t(82445),p=t.n(m);let MainLayout=e=>{let{children:r,hideFooterOnMobile:t=!1,maxWidthOnLargeScreen:i=!0,smallFooter:m=!1,footerMarginTop:f,mainClassName:h,navBarProps:_,isNavBarStickyOnMobile:x=!0,showAppStoreBanner:j,stickyNavBar:v=!0}=e,g=(0,s.F)(),y=(null==_?void 0:_.variant)==="transparent";return(0,a.jsx)(o.IE,{showAppStoreBanner:j,children:(0,a.jsxs)("div",{className:p().layout,children:[(g||x)&&v?(0,a.jsx)(u.b,{isTransparent:y,children:(0,a.jsx)(c.l,{..._})}):(0,a.jsx)(c.l,{..._}),(0,a.jsx)("main",{className:l()(p().main,h),children:(0,a.jsx)(n.A,{fontSize:"large",fontWeight:"regular",children:i?(0,a.jsx)(d.W,{children:r}):r})}),(0,a.jsx)("div",{className:l()({[p().hideFooterOnMobile]:t}),children:m?(0,a.jsx)(o.Q4,{}):(0,a.jsx)(o.$_,{footerMarginTop:f})})]})})}},83523:function(e,r,t){"use strict";t.d(r,{k:function(){return ReferralShareModal}});var a=t(85893),i=t(25362),l=t(23946),s=t(30795),n=t(70349),o=t(22697),d=t(7419),c=t(74423),u=t(97537),m=t(88318),p=t(78226),f=t(87868),h=t(47811),_=t(11960),x=t(57214),j=t(50359),v=t.n(j);let ReferralShareModal=e=>{var r,t,l;let{pageTracking:o}=e,{user:c}=(0,s.a)(),{t:h}=(0,u.$)(),j=(0,i.dd)(p.vg),g=(0,d.F)(),y=(0,f.n)(null!==(r=null==c?void 0:c.referralCode)&&void 0!==r?r:""),{country:b}=(0,n.i)({slug:null==c?void 0:c.countrySlug}),S=null!==(t=null==b?void 0:b.currency)&&void 0!==t?t:m.config.defaultCurrency;return(0,a.jsxs)(x.u_,{id:p.vg,mobileBehavior:"drawer",onClose:()=>j.hide(),children:[(0,a.jsx)(x.xB,{children:(0,a.jsx)(_.D,{title:h("referral:share.modal.title"),subTitle:g?void 0:h("referral:share.modal.codeLabel",{code:null==c?void 0:c.referralCode}),className:v().modalHeader,withDivider:!g,children:g&&(0,a.jsx)(_.F,{children:(0,a.jsx)(x.ol,{"aria-label":h("common:button.close"),onClick:()=>j.hide()})})})}),(0,a.jsx)(x.fe,{children:(0,a.jsx)("div",{className:v().modalBody,children:(0,a.jsx)("div",{className:v().shareModalButtons,children:(0,a.jsx)(ReferralShareButtons,{referralLink:y,code:null!==(l=null==c?void 0:c.referralCode)&&void 0!==l?l:"",currency:S,pageTracking:o})})})})]})},ReferralShareButtons=e=>{let{referralLink:r,code:t,currency:i,pageTracking:s}=e,n=(0,o.a)(i),u=(0,c.h)(i),m=n("referral:share.message.text",{...u,link:r,code:t}),p=(0,d.F)();return(0,a.jsx)(l.n,{copyToClipboard:{containerClassName:p?v().hideCopyToClipboardButton:v().copytoClipboardButton,textToCopy:r,onClick:()=>{(0,h.oP)({method:"clipboard",page:s})}},email:{subject:n("referral:share.message.title",u),body:m,onClick:()=>{(0,h.oP)({method:"email",page:s})}},messenger:{link:r,onClick:()=>{(0,h.oP)({method:"messenger",page:s})}},whatsapp:{text:m,onClick:()=>{(0,h.oP)({method:"whatsapp",page:s})}}})}},44485:function(e,r,t){"use strict";t.r(r),t.d(r,{__N_SSG:function(){return ee},default:function(){return er}});var a=t(37340),i=t(85893),l=t(25362),s=t(9008),n=t.n(s),o=t(5815),d=t(8796),c=t(54242),u=t(15901),m=t(30795),p=t(16310);let f=(0,p.Ry)({credit:(0,p.Rx)().min(0).integer().required(),remainingCredit:(0,p.Rx)().min(0).integer().required(),status:(0,p.Z_)().oneOf(["pending","active","empty","expired"]).required(),expirationDate:(0,p.Z_)().required()});(0,p.Ry)({credit:f.optional(),referrerId:(0,p.Rx)().integer().positive().required()});let h=(0,p.Ry)({id:(0,p.Rx)().integer().positive().required(),email:(0,p.Z_)().email().required(),firstName:(0,p.Z_)().optional(),lastName:(0,p.Z_)().optional(),avatarPath:(0,p.Z_)().optional()}),_=f.shape({id:(0,p.Rx)().integer().positive().required(),createdAt:(0,p.Z_)().required(),referee:h.required()}),x=(0,p.IX)(_);var j=t(76443),v=t(22697),g=t(7419),y=t(74423),b=t(97537),S=t(32585),C=t(78226),N=t(87868),R=t(87631),B=t(47811),I=t(27246),k=t(67341),M=t(22852),T=t(37432),w=t(83195),D=t(29147),z=t(90085),O=t(94184),W=t.n(O),E=t(80135),A=t.n(E);let IllustratedSteps=e=>{let{steps:r,justify:t="center",titleAs:a="h3",withBorder:l=!1,textDirection:s="column",containerReferralStyle:n}=e;return(0,i.jsx)("ol",{className:W()(A().steps,n),children:r.map((e,r)=>{let{title:n,description:o,img:d}=e;return(0,i.jsx)(IllustratedStep,{title:n,description:o,img:d,justify:t,titleAs:a,withBorder:l,textDirection:s},r)})})},IllustratedStep=e=>{let{title:r,description:t,img:a,justify:l="center",titleAs:s="h3",withBorder:n=!1,textDirection:o="column"}=e,d=(0,g.C)("sm"),c=d||"column"===o;return(0,i.jsxs)("li",{className:W()(A().step,A()["justify-".concat(l)],A()["textDirection-".concat(o)],{[A().stepWithBorder]:n}),children:[a,(0,i.jsxs)("div",{className:A().stepTextContainer,children:[(0,i.jsx)("div",{className:A().title,children:c?(0,i.jsx)(w.I,{as:s,variant:"section",children:r}):(0,i.jsx)(T.A,{fontSize:"large",fontWeight:"medium",children:r})}),(0,i.jsx)("div",{className:A().description,children:(0,i.jsx)(T.A,{as:"p",fontSize:c?"large":"medium",fontWeight:"regular",color:"secondary",children:t})})]})]})};var L=t(63948),P=t(53385),F=t(31185),q=t(67043),Z=t(24329),K=t(11960),V=t(57214),G=t(8610),H=t.n(G);let ReferralCreditItem=e=>{let{avatarPath:r,username:t,status:a,isDisabled:l}=e;return(0,i.jsxs)("div",{className:W()(H().credit,{[H().creditDisabled]:l}),children:[(0,i.jsx)(Z.q,{path:r}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:(0,i.jsx)(T.A,{fontSize:"large",fontWeight:"regular",children:t})}),(0,i.jsx)(T.A,{color:"tertiary",fontSize:"medium",fontWeight:"regular",children:a})]})]})};var X=t(81833),$=t.n(X);let ReferralCreditsSummary=e=>{let{credits:r,country:t}=e,{t:a}=(0,b.$)(),l=(0,v.a)(t.currency),{active:s,pending:n}=(0,u.M7)(r),o=(0,u.qY)(r),d=(0,u.Mv)(r);return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:$().container,children:[(0,i.jsx)(SummaryButton,{label:a("referral:creditsSummary.pending.label"),value:l("common:currency",{value:n}),disabled:0===o.length,onClick:()=>{(0,F.K4)(J,{title:a("referral:creditsSummary.pending.label"),subTitle:a("referral:creditsSummary.pending.subtitle"),credits:o})}}),(0,i.jsx)(VerticalSeparator,{}),(0,i.jsx)(SummaryButton,{label:a("referral:creditsSummary.available.label"),value:l("common:currency",{value:s}),disabled:0===d.length,onClick:()=>{(0,F.K4)(J,{title:a("referral:creditsSummary.available.label"),subTitle:a("referral:creditsSummary.available.subtitle"),credits:d})}})]})})},SummaryButton=e=>{let{label:r,value:t,onClick:a,disabled:l}=e;return(0,i.jsxs)("button",{className:$().summaryButton,type:"button",onClick:a,disabled:l,children:[(0,i.jsx)(T.A,{fontSize:"large",fontWeight:"regular",color:"secondary",children:r}),(0,i.jsx)(w.I,{variant:"subsection",children:t})]})},VerticalSeparator=()=>(0,i.jsx)("div",{className:$().verticalSeparator}),J=(0,F.f7)(e=>{let{title:r,subTitle:t,credits:a,closeModal:l,...s}=e,{t:n}=(0,b.$)(),o=(0,q.b)();return(0,i.jsxs)(V.IX,{onClose:l,mobileBehavior:"drawer",...s,children:[(0,i.jsx)(V.xB,{children:(0,i.jsx)(K.D,{title:r,subTitle:t,className:H().modalHeader,withDivider:!0,children:(0,i.jsx)("div",{className:H().desktopOnly,children:(0,i.jsx)(K.F,{children:(0,i.jsx)(V.ol,{"aria-label":n("common:button.close"),onClick:l})})})})}),(0,i.jsx)(V.fe,{children:(0,i.jsx)("ul",{className:H().list,children:a.map(e=>{var r;return(0,i.jsx)("li",{className:H().listItem,children:(0,i.jsx)(ReferralCreditItem,{avatarPath:e.referee.avatarPath,username:null!==(r=e.referee.firstName)&&void 0!==r?r:e.referee.email,status:(0,u.RG)({credit:e,locale:o,t:n}),isDisabled:"expired"===e.status||"empty"===e.status})},e.id)})})})]})});var Q=t(83523),U=t(56482),Y=t.n(U);function _templateObject(){let e=(0,a._)(["referral:share.title"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,a._)(["common:share.share"]);return _templateObject1=function(){return e},e}function _templateObject2(){let e=(0,a._)(["referral:share.code"]);return _templateObject2=function(){return e},e}let ReferralPage=e=>{let{countries:r}=e,{user:t}=(0,m.a)(),a=(0,S.K1)({slug:null==t?void 0:t.countrySlug},r);return t&&a?(0,i.jsx)(ReferralPageWithData,{user:t,country:a}):null},ReferralPageWithData=e=>{let{user:r,country:t}=e;(0,I.lv)("referral");let a=(0,g.F)(),{t:s}=(0,b.$)(),{currency:c}=t,{referralCode:p,isBooker:f}=r,{data:h}=function(){let{token:e}=(0,m.a)();return(0,j.fh)(e?["/credits/referral",e]:void 0,{staleTime:5,schema:x})}(),_=(0,v.a)(c),S=(0,y.h)(c),O=f&&(0,k.$K)(p),W=(0,N.n)(null!=p?p:""),E=(0,l.dd)(C.vg),A=(0,d.g)(),F=_("referral:meta.title",{value:u.DJ}),q=_("referral:meta.description",{value1:u.DJ,value2:u.DJ});return(0,i.jsxs)("div",{className:Y().page,children:[(0,i.jsxs)(n(),{children:[(0,i.jsx)("title",{children:F}),(0,i.jsx)("meta",{property:"og:title",content:F}),(0,i.jsx)("meta",{name:"description",content:q}),(0,i.jsx)("meta",{property:"og:description",content:q})]}),(0,i.jsx)("div",{className:Y().header,children:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:Y().title,children:(0,i.jsx)(w.I,{as:"h1",variant:"screen",children:_("referral:title",S)})}),(0,i.jsx)("div",{className:Y().description,children:(0,i.jsx)(T.A,{as:"p",fontSize:"large",fontWeight:"regular",color:"secondary",children:s("referral:description.showFriends")})}),(0,i.jsx)("div",{className:Y().description,children:(0,i.jsx)(T.A,{as:"p",fontSize:"large",fontWeight:"regular",color:"secondary",children:_("referral:description.offerReceive",S)})})]})}),(0,i.jsx)("div",{children:O?(0,i.jsxs)("section",{className:Y().shareLinkSection,children:[(0,i.jsx)("div",{className:Y().subTitle,children:(0,i.jsx)(w.I,{as:"h2",variant:"section",children:s(_templateObject())})}),(0,i.jsx)("div",{className:Y().shareButtons,children:(0,i.jsx)("div",{className:Y().copytoClipboardButton,children:(0,i.jsx)(L.m,{id:"share-link",label:s("common:share.copyLink"),copyLabel:s("common:share.copy"),copiedLabel:s("common:share.copied"),size:"large",onError:e=>R.T.captureException(e),textToCopy:W,containerClassName:Y().copytoClipboardButton,addButtonInRightElement:(0,i.jsx)(D.z,{label:s(_templateObject1()),size:"medium",onClick:()=>{(0,B.it)({page:"referral"}),E.show()}}),onClick:()=>(0,B.oP)({method:"clipboard",page:"referral"})})})}),(0,i.jsx)("div",{className:Y().shareCode,children:(0,i.jsxs)(T.A,{as:"p",fontSize:"large",fontWeight:"regular",children:[s(_templateObject2())," ",(0,i.jsx)(T.A,{fontSize:"large",fontWeight:"medium",children:p})]})})]}):(0,i.jsxs)("section",{className:Y().notEligibleSection,children:[(0,i.jsx)(z.e,{type:"ADVICE",text:s("referral:isNotEligible.disclaimer")}),(0,i.jsx)(o.V,{href:A,passHref:!0,children:(0,i.jsx)(P.r,{variant:"primary",children:s("referral:isNotEligible.button")})})]})}),O&&h&&(0,i.jsxs)("section",{className:Y().summarySection,children:[(0,i.jsx)("h2",{className:Y().subtitle,children:s("referral:creditsSummary.title")}),(0,i.jsx)("div",{className:Y().summary,children:(0,i.jsx)(ReferralCreditsSummary,{credits:h,country:t})})]}),(0,i.jsxs)("section",{className:Y().explanations,children:[(0,i.jsx)("div",{className:Y().subTitle,children:(0,i.jsx)(w.I,{as:"h2",variant:"section",children:s("referral:explanations.title")})}),(0,i.jsx)("div",{className:Y().explanationSteps,children:(0,i.jsx)(IllustratedSteps,{titleAs:"h3",justify:"left",textDirection:"row",containerReferralStyle:Y().illustratedStepsContainer,steps:[{title:s("referral:explanations.step1.title"),description:s("referral:explanations.step1.text"),img:(0,i.jsx)(M.d,{pictureId:"static/illustrations/massage-duo.png",size:a?80:40})},{title:_("referral:explanations.step2.title",S),description:_("referral:explanations.step2.text",S),img:(0,i.jsx)(M.d,{pictureId:"static/illustrations/ticket.png",size:a?80:40})},{title:_("referral:explanations.step3.title",S),description:_("referral:explanations.step3.text",S),img:(0,i.jsx)(M.d,{pictureId:"static/illustrations/luxury.png",size:a?80:40})}]})})]}),O&&(0,i.jsxs)("div",{className:Y().mobileFooter,children:[(0,i.jsx)(T.A,{fontSize:"medium",fontWeight:"regular",color:"secondary",children:s("referral:mobileFooter.codeLabel")}),(0,i.jsx)("div",{className:Y().mobileCodeValue,children:(0,i.jsx)(w.I,{variant:"subsection",children:p})}),(0,i.jsx)(D.z,{label:s("referral:mobileFooter.shareButton"),onClick:()=>E.show()})]}),(0,i.jsx)(Q.k,{pageTracking:"referral"})]})};ReferralPage.getLayout=function(e){return(0,i.jsx)(c.Z,{children:e})};var ee=!0,er=ReferralPage},87868:function(e,r,t){"use strict";t.d(r,{n:function(){return getReferralLink}});var a=t(6771);let getReferralLink=e=>"".concat(a.v.siteUrl,"/?r=").concat(e)},78954:function(e){e.exports={avatar:"Avatar_avatar__a5nP7"}},18030:function(e){e.exports={emojiContainer:"Emoji_emojiContainer__g7iWS"}},80135:function(e){e.exports={steps:"IllustratedSteps_steps__z_fRZ",step:"IllustratedSteps_step__OGVWH","justify-left":"IllustratedSteps_justify-left__TNDpD","justify-center":"IllustratedSteps_justify-center__U_lpB","justify-middle":"IllustratedSteps_justify-middle__fVEKs",stepWithBorder:"IllustratedSteps_stepWithBorder__8gGy6",stepTextContainer:"IllustratedSteps_stepTextContainer__qNWOb",title:"IllustratedSteps_title__8S_EQ",description:"IllustratedSteps_description__vm9DJ","textDirection-row":"IllustratedSteps_textDirection-row__AIyFo"}},82445:function(e){e.exports={layout:"MainLayout_layout__l0fks",main:"MainLayout_main__i5mr0",hideFooterOnMobile:"MainLayout_hideFooterOnMobile__1BncW"}},8610:function(e){e.exports={modalHeader:"ReferralCreditsModal_modalHeader__eldA1",list:"ReferralCreditsModal_list__PfdcV",listItem:"ReferralCreditsModal_listItem__iKogX",credit:"ReferralCreditsModal_credit__Bg1m1",creditDisabled:"ReferralCreditsModal_creditDisabled__6IPmT",desktopOnly:"ReferralCreditsModal_desktopOnly__tjHW0"}},81833:function(e){e.exports={container:"ReferralCreditsSummary_container__8lBl_",summaryButton:"ReferralCreditsSummary_summaryButton__EwKZG",verticalSeparator:"ReferralCreditsSummary_verticalSeparator__IkwNO"}},50359:function(e){e.exports={modalHeader:"ReferralShareModal_modalHeader__aGXyz",modalBody:"ReferralShareModal_modalBody__8u1b5",shareModalButtons:"ReferralShareModal_shareModalButtons__ztcu5"}},56482:function(e){e.exports={page:"referral_page__iyqt4",header:"referral_header__Ul851",title:"referral_title__nSyeX",description:"referral_description__LimAL",shareLinkSection:"referral_shareLinkSection__2umLC",shareButtons:"referral_shareButtons__RaLl2",copytoClipboardButton:"referral_copytoClipboardButton__hM_le",notEligibleSection:"referral_notEligibleSection__TGUYL",summarySection:"referral_summarySection__EGPlj",summary:"referral_summary__i96_w",subTitle:"referral_subTitle__KPRCR",explanations:"referral_explanations__qCbpx",explanationSteps:"referral_explanationSteps__WfT4z",mobileFooter:"referral_mobileFooter__dZJ7R",mobileCodeValue:"referral_mobileCodeValue__dga22",shareCode:"referral_shareCode__lvQo7",illustratedStepsContainer:"referral_illustratedStepsContainer__wmM58",hideCopyToClipboardButton:"referral_hideCopyToClipboardButton__dSaOG",shareButtonMinWidth:"referral_shareButtonMinWidth__lvQdD"}},37340:function(e,r,t){"use strict";function _tagged_template_literal(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}t.d(r,{_:function(){return _tagged_template_literal}})}},function(e){e.O(0,[6342,3039,8948,9054,4432,9460,1404,2753,2102,5977,9147,6271,2696,2060,4479,3946,9774,2888,179],function(){return e(e.s=52920)}),_N_E=e.O()}]);